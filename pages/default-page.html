<!--
@license
Copyright (c) 2015 Unify. All rights reserved.
-->

<dom-module id="default-page">

  <style is="default-style">
  ul {
    padding-bottom: 15px;
  }
  li {
    padding-bottom: 10px;
  }
  </style>

  <template>
    <p id="test">REST or WebSockets? This is almost a religious discussion among developers. We simply support both - as one or the other makes more sense depending on the use case.</p><br>

    <p><b>The Circuit JavaScript API:</b> easily add real-time chat sessions, multi-party audio and video calls to you web application</p>
    <ul>
      <li>This library encapsulates real-time connectivity via WebSocket.</li>
      <li>The connected nature of WebSockets allows the library to efficiently receive asynchronous events, even then behind corporate firewall and NAT.</li>
      <li>See the <a href="http://codepen.io/circuit/" target="_blank">Codepen</a> samples to get started.</li>
    </ul>

    <p><b>Circuit Polymer Elements:</b> add chat sessions, multi-party audio and video calls to your we application with a handful of lines of code</p>
    <ul>
      <li>The Circuit Polymer Elements are a set of Web Components to easily incorporate Circuit functionality into your web application.</li>
      <li>See the <a href="https://www.polymer-project.org/1.0/" target="_blank">Polymer Project</a> if you are familiar with Polymer.</li>
      <li>Then see Circuit’s Polymer on <a href="https://github.com/yourcircuit" target="_blank">GitHub</a> and learn how to add chat to your web application with a handful of lines of code.</li>
    </ul>

    <p><b>The Circuit NodeJS module:</b> write powerful server-side integration using NodeJS</p>
    <ul>
      <li>The NodeJS library also uses WebSockets connectivity and provides quick integration with the rapidly growing NodeJS community.</li>
      <li>The API is identical to the JavaScript API. </li>
      <li>See code samples for the Circuit NodeJS module in <a href="https://github.com/yourcircuit" target="_blank">GitHub</a>. See the also Circuit's Node Injection concept.</li>
    </ul>

    <p><b>The Circuit REST API:</b> easy-to-use integration across different languages and frameworks</p>
    <ul>
      <li>REST is the fastest way to get started for many use cases.</li>
      <li>For example, integrate an ERP system into Circuit conversations by posting updates with the REST API.</li>
      <li>This first release of the <a href="https://rest.circuitsandbox.net" target="_blank">Circuit REST API</a> offers a subset of Circuit’s API. More APIs will be added later.</li>
    </ul>
  </template>

</dom-module>

<script>
  Polymer({
    is: 'default-page',
    ready: function () {
      app.pageTitle = 'Overview';

HTML_REGEX = /<img[^>|<]*(?:shortcut|abbr)="(\S*)"[^\/?>]*\/?>/gi;
var mapping = {
    ':)': 0x1F603,
    ':D': 0x1F604,
    ':(': 0x1F61E,
    ':heart': 0x1F60D,
    ';)': 0x1F609,
    ':awesome': 0x1F604,
    ':angry': 0x1F620,
    ':zzz': 0x1F62A,
    ':O': 0x1F632,
    ';(': 0x1F622
}


function convert(str, p1, offset, s) {
    var code = mapping[p1];
    return code ? String.fromCodePoint(mapping[p1]) : '';
}

var str = 'big <img class="emoticon-icon smile" abbr=":D"/> bottomline <img class="emoticon-icon smile" abbr=":bottomline"/> happy <img class="emoticon-icon smile" abbr=":)"/> angry <img class="emoticon-icon smile" abbr=":angry"/> after2';
var matches = str.replace(HTML_REGEX, convert);

this.$.test.innerHTML =matches;



    }
  });
</script>
